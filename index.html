<script>
  const messages = document.getElementById("messages");
  const userInput = document.getElementById("userInput");
  const sendBtn = document.getElementById("sendBtn");

  let hasUserReplied = false;
  let hasUserChosenCourse = false;

  function appendMessage(text, type) {
    const msg = document.createElement("div");
    msg.classList.add("message", type);
    msg.innerHTML = text;
    messages.appendChild(msg);
    messages.scrollTop = messages.scrollHeight;
  }

  // Mensagem inicial autom√°tica
  window.addEventListener("load", () => {
    appendMessage("Oi üëã, eu sou a Melissa Castro. Tudo bem?", "received");
  });

  sendBtn.addEventListener("click", sendMessage);
  userInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      sendMessage();
    }
  });

  function sendMessage() {
    const text = userInput.value.trim();
    if (text === "") return;
    appendMessage(text, "sent");
    userInput.value = "";

    if (!hasUserReplied) {
      hasUserReplied = true;
      setTimeout(() => {
        appendMessage("Posso te ajudar a faturar com modelo do job, voc√™ tem interesse?", "received");
      }, 1000);
    } else if (!hasUserChosenCourse) {
      // Aguarda o usu√°rio responder para mostrar os cursos
      hasUserChosenCourse = true;
      setTimeout(() => {
        appendMessage(`N√≥s temos 3 modelos de cursos:<br>
        1Ô∏è‚É£ Hot Starter<br>
        2Ô∏è‚É£ Hot Essential<br>
        3Ô∏è‚É£ Hot Founder<br>
        Qual gostaria de saber mais?`, "received");
      }, 1000);
    }
  }
</script>
